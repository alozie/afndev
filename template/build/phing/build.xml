<project name="project" default="setup" phingVersion="2.8.2">

  <!-- Include custom task classes -->
  <includepath classpath="${project.basedir}/phingcludes"/>
  <taskdef name="behat" classname="phingcludes.BehatTask"/>
  <taskdef name="drush" classname="phingcludes.DrushTask"/>
  <taskdef name="phpVariable" classname="phingcludes.PhpVariableTask"/>

  <!-- Include task partials -->

  <!-- Defines a list of default properties, available to all targets. -->
  <import file="${project.basedir}/tasks/properties.xml"/>

  <!-- Contains tasks relevant to validation. E.g., code metrics. -->
  <import file="${project.basedir}/tasks/validate.xml"/>

  <!-- Contains targets relevant to the execution of tests. E.g., Behat, jMeter. -->
  <import file="${project.basedir}/tasks/tests.xml"/>

  <!-- Contains targets used for setting up environment. E.g., installing Drupal. -->
  <import file="${project.basedir}/tasks/setup.xml"/>

  <!-- Contains fileset definitions. E.g., patterns defining contrib locations, theming files, etc. -->
  <import file="${project.basedir}/tasks/filesets.xml"/>

  <!-- E.g., commit build artifacts, push to remote. -->
  <import file="${project.basedir}/tasks/deploy.xml"/>

  <!-- Contains frontend tasks. -->
  <import file="${project.basedir}/tasks/frontend.xml"/>

  <!--
  The follow targets are intended to be wrapper targets that bundle
  multiple targets from other includes.
  -->
  <target name="build:test"
          description="Builds, tests, and deploys an artifact."
          depends="setup:build:all, setup:drupal:install, tests:all">
  </target>

  <target name="build:validate:test"
          description="Builds, validates, tests, and deploys an artifact."
          depends="validate:all, setup:build:all, setup:drupal:install, tests:all">
  </target>

</project>
